<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planilla Nutricional Mejorada (V2.0) - 2 Columnas</title>
    <style>
        /* --- Global Compact Styles --- */
        body {
            font-family: Arial, sans-serif;
            line-height: 1.15; /* Further reduced line height */
            margin: 8mm; /* Slightly reduced margins */
            font-size: 8.5pt; /* Slightly reduced base font size */
            color: #333;
        }

        .form-container {
            display: flex;
            gap: 12px; /* Gap between columns */
        }

        .column {
            flex: 1; /* Each column takes equal space */
            min-width: 0; /* Allows columns to shrink */
        }

        h1, h2, h3 {
            margin-top: 0.5em; /* Reduced top margin */
            margin-bottom: 0.2em; /* Reduced bottom margin */
        }

        h1 {
            text-align: center;
            font-size: 1.2em;
            margin-bottom: 0.4em;
            grid-column: 1 / -1; /* Span across columns if container was grid */
        }

        h2 {
            font-size: 1.0em; /* Smaller */
            border-bottom: 1px solid #ccc;
            padding-bottom: 0.1em;
        }

        h3 {
            font-size: 0.9em; /* Smaller */
            margin-top: 0.4em;
            margin-bottom: 0.15em;
        }

        section {
            margin-bottom: 0.6em; /* Reduced section spacing */
             page-break-inside: avoid; /* Try to keep sections together */
        }

        label {
            display: inline-block;
            margin-right: 4px; /* Reduced spacing */
            vertical-align: middle;
        }

        input[type="text"],
        input[type="number"] {
            border: none;
            border-bottom: 1px solid #666;
            padding: 1px 2px; /* Reduced padding */
            margin-left: 2px;
            margin-right: 4px;
            font-size: 8.5pt; /* Match body font size */
            max-width: 90%; /* Prevent overflow */
        }

        input[type="text"].long-input { width: 85%; }
        input[type="text"].medium-input { width: 70%; }
        input[type="text"].short-input { width: 40px; }


        textarea {
            width: 100%; /* Full width of column */
            height: 50px; /* Reduced height */
            border: 1px solid #888;
            margin-top: 2px;
            padding: 2px;
            box-sizing: border-box;
            font-size: 8.5pt;
        }

        .form-group {
            margin-bottom: 3px; /* Reduced spacing */
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 0 5px; /* Small gap between wrapped items */
        }

        .form-group > label:first-child {
             min-width: auto;
             margin-right: 3px;
        }

        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 1px 8px; /* Further reduced gap */
            margin-bottom: 4px; /* Reduced spacing */
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            margin-bottom: 2px; /* Reduced spacing */
            min-width: 130px; /* Adjust for narrower column */
            flex-grow: 1;
            page-break-inside: avoid; /* Try keep item + label together */
        }

        .checkbox-item input[type="checkbox"],
        .checkbox-item input[type="radio"] {
            opacity: 0;
            position: absolute;
            width: 0;
            height: 0;
        }

        .checkbox-item label {
            position: relative;
            padding-left: 20px; /* Space for box */
            cursor: pointer;
            user-select: none;
            display: inline-flex;
            align-items: center;
            min-height: 16px; /* Match box */
            margin-right: 0;
        }

        /* Custom checkbox/radio box */
        .checkbox-item label::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 15px;  /* Slightly smaller box */
            height: 15px; /* Slightly smaller box */
            border: 1px solid #444;
            background-color: #fff;
            box-sizing: border-box;
        }
        /* Style radio buttons */
         input[type="radio"] + label::before {
            border-radius: 50%;
        }


        .inline-group label, .inline-group input, .inline-group .checkbox-item {
            margin-right: 4px;
        }
        .inline-group .checkbox-item {
             min-width: auto;
             margin-bottom: 0;
             flex-grow: 0;
        }


        .section-note {
            font-style: italic;
            color: #555;
            font-size: 7.5pt; /* Smaller note font */
            margin-bottom: 3px;
            display: block;
        }

        .category-title {
            font-weight: bold;
            font-size: 8.5pt;
            margin-top: 6px;
            margin-bottom: 2px;
            display: block;
        }

        .other-input-group {
            display: flex;
            align-items: center;
            flex-wrap: nowrap;
            gap: 3px;
            width: 100%; /* Take full width to allow text input to grow */
        }
        .other-input-group .checkbox-item {
            min-width: auto;
            flex-grow: 0;
            margin-bottom: 0;
        }
         .other-input-group label{ /* Style checkbox label within group */
             padding-left: 20px; /* Ensure consistent padding */
             min-height: 16px;
         }
        .other-input-group input[type="text"]{
            flex-grow: 1; /* Allow text input to take remaining space */
            min-width: 80px; /* Min width before shrinking */
        }

        /* --- Print Specific Styles --- */
        @media print {
            body {
                margin: 8mm;
                font-size: 8.5pt;
            }
            input[type="text"], input[type="number"], textarea {
                border-color: #000;
            }
            .checkbox-item label::before {
                border: 1.2px solid #000; /* Thicker border for print */
            }
             .column {
                 page-break-inside: avoid; /* Avoid breaking columns */
             }
        }

    </style>
</head>
<body>

    <h1>Planilla Nutricional Mejorada (Versión 2.0)</h1>

    <div class="form-container">
        <div class="column column-left">
            <section>
                <h2>1. Datos Básicos</h2>
                <div class="form-group">
                    <label for="nombre">Nombre:</label>
                    <input type="text" id="nombre" name="nombre" class="long-input">
                </div>
                <div class="form-group inline-group">
                    <label for="edad">Edad:</label>
                    <input type="number" id="edad" name="edad" class="short-input"> a.
                    <span style="margin-left: 5px;">Sexo:</span>
                    <div class="checkbox-item"><input type="radio" id="sexo_h" name="sexo" value="Hombre"><label for="sexo_h">H</label></div>
                    <div class="checkbox-item"><input type="radio" id="sexo_m" name="sexo" value="Mujer"><label for="sexo_m">M</label></div>
                     <div class="checkbox-item"><input type="radio" id="sexo_o" name="sexo" value="Otro"><label for="sexo_o">O</label></div>
                </div>
                <div class="form-group inline-group">
                    <label for="peso">Peso:</label>
                    <input type="number" id="peso" name="peso" step="0.1" class="short-input"> kg |
                    <label for="talla">Talla:</label>
                    <input type="number" id="talla" name="talla" class="short-input"> cm |
                    <label for="imc">IMC:</label>
                    <input type="number" id="imc" name="imc" step="0.1" class="short-input"> (opc)
                </div>
            </section>

            <section>
                <h2>2. Antecedentes Patológicos y Alergias/Intolerancias</h2>

                <h3>Antecedentes Patológicos:</h3>
                <div class="checkbox-group">
                    <div class="checkbox-item"><input type="checkbox" id="diabetes" name="patologia_diabetes"><label for="diabetes">Diabetes</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="hipertension" name="patologia_hipertension"><label for="hipertension">Hipertensión</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="dislipidemia" name="patologia_dislipidemia"><label for="dislipidemia">Dislipidemia</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="obesidad" name="patologia_obesidad"><label for="obesidad">Obesidad</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="renal" name="patologia_renal"><label for="renal">Enf. renal</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="cardiopatia" name="patologia_cardiopatia"><label for="cardiopatia">Cardiopatía</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="celiaquia" name="patologia_celiaquia"><label for="celiaquia">Celiaquía</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="higado_graso" name="patologia_higado_graso"><label for="higado_graso">Hígado graso</label></div>
                </div>

                <h3>Alergias e Intolerancias <span class="section-note" style="display:inline;">(Marque aplicables)</span></h3>

                <span class="category-title">Alergias (inmun.):</span>
                <div class="checkbox-group">
                    <div class="checkbox-item"><input type="checkbox" id="alergia_lacteos" name="alergia_lacteos"><label for="alergia_lacteos">Lácteos</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="alergia_huevo" name="alergia_huevo"><label for="alergia_huevo">Huevo</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="alergia_pescado" name="alergia_pescado"><label for="alergia_pescado">Pescado/marisco</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="alergia_frutos_secos" name="alergia_frutos_secos"><label for="alergia_frutos_secos">Maní/fr. secos</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="alergia_trigo" name="alergia_trigo"><label for="alergia_trigo">Trigo</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="alergia_soja" name="alergia_soja"><label for="alergia_soja">Soja</label></div>
                     <div class="other-input-group" style="margin-top: 2px;">
                        <div class="checkbox-item"><input type="checkbox" id="alergia_otros_check" name="alergia_otros_check"><label for="alergia_otros_check">Otros:</label></div>
                        <input type="text" id="alergia_otros_text" name="alergia_otros_text">
                    </div>
                </div>

                <span class="category-title">Intolerancias (digest.):</span>
                <div class="checkbox-group">
                    <div class="checkbox-item"><input type="checkbox" id="intol_lactosa" name="intol_lactosa"><label for="intol_lactosa">Lactosa</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="intol_gluten" name="intol_gluten"><label for="intol_gluten">Gluten (no celíaco)</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="intol_fodmaps" name="intol_fodmaps"><label for="intol_fodmaps">FODMAPs</label></div>
                     <div class="other-input-group" style="margin-top: 2px;">
                         <div class="checkbox-item"><input type="checkbox" id="intol_otros_check" name="intol_otros_check"><label for="intol_otros_check">Otros:</label></div>
                         <input type="text" id="intol_otros_text" name="intol_otros_text">
                    </div>
                </div>

                <span class="category-title">Reacciones graves (anafilaxia):</span>
                 <div class="checkbox-group">
                    <div class="checkbox-item" style="min-width: 100%;">
                         <input type="checkbox" id="anafilaxia_previa" name="anafilaxia_previa"><label for="anafilaxia_previa">Episodio previo anafilaxia (req. adrenalina)</label>
                    </div>
                    <div class="form-group" style="width: 100%; margin-bottom: 1px;">
                        <label for="anafilaxia_causa">Alim. causante:</label>
                        <input type="text" id="anafilaxia_causa" name="anafilaxia_causa" style="flex-grow: 1;">
                    </div>
                     <div class="other-input-group" style="margin-top: 0;">
                        <div class="checkbox-item"><input type="checkbox" id="anafilaxia_otros_check" name="anafilaxia_otros_check"><label for="anafilaxia_otros_check">Otras reac. graves:</label></div>
                        <input type="text" id="anafilaxia_otros_text" name="anafilaxia_otros_text">
                    </div>
                </div>
            </section>

            <section>
                <h2>5. Síntomas/Dificultades</h2>
                <div class="checkbox-group">
                    <div class="checkbox-item"><input type="checkbox" id="sint_masticar" name="sint_masticar"><label for="sint_masticar">Dific. masticar/tragar</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="sint_acidez" name="sint_acidez"><label for="sint_acidez">Acidez/reflujo</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="sint_hinchazon" name="sint_hinchazon"><label for="sint_hinchazon">Hinchazón post-comida</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="sint_estrenimiento" name="sint_estrenimiento"><label for="sint_estrenimiento">Estreñimiento (<3/sem)</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="sint_diarrea" name="sint_diarrea"><label for="sint_diarrea">Diarrea frecuente</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="sint_perdida_peso" name="sint_perdida_peso"><label for="sint_perdida_peso">Pérdida peso no intenc.</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="sint_fatiga" name="sint_fatiga"><label for="sint_fatiga">Fatiga constante</label></div>
                </div>
            </section>

        </div> <!-- /column-left -->

        <div class="column column-right">

             <section>
                <h2>3. Medicación Habitual</h2>

                <h3>Hipertensión/Corazón:</h3>
                <div class="checkbox-group">
                    <div class="checkbox-item"><input type="checkbox" id="med_enalapril" name="med_enalapril"><label for="med_enalapril">Enalapril</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="med_carvedilol" name="med_carvedilol"><label for="med_carvedilol">Carvedilol</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="med_atenolol" name="med_atenolol"><label for="med_atenolol">Atenolol</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="med_losartan" name="med_losartan"><label for="med_losartan">Losartan</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="med_furosemida" name="med_furosemida"><label for="med_furosemida">Furosemida</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="med_hidrocloro" name="med_hidrocloro"><label for="med_hidrocloro">Hidroclorotiazida</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="med_espirono" name="med_espirono"><label for="med_espirono">Espironolactona</label></div>
                </div>

                <h3>Diabetes:</h3>
                <div class="checkbox-group">
                    <div class="checkbox-item"><input type="checkbox" id="med_metformina" name="med_metformina"><label for="med_metformina">Metformina</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="med_ins_nph" name="med_ins_nph"><label for="med_ins_nph">Insulina NPH</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="med_ins_corr" name="med_ins_corr"><label for="med_ins_corr">Ins. Corriente</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="med_ins_glarg" name="med_ins_glarg"><label for="med_ins_glarg">Ins. Glargina</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="med_ins_aspart" name="med_ins_aspart"><label for="med_ins_aspart">Ins. Aspártica</label></div>
                </div>

                <h3>Colesterol:</h3>
                <div class="checkbox-group">
                    <div class="checkbox-item"><input type="checkbox" id="med_atorva" name="med_atorva"><label for="med_atorva">Atorvastatina</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="med_simva" name="med_simva"><label for="med_simva">Simvastatina</label></div>
                </div>

                <h3>Otros Comunes:</h3>
                 <div class="checkbox-group">
                    <div class="checkbox-item"><input type="checkbox" id="med_aspirina" name="med_aspirina"><label for="med_aspirina">Aspirina</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="med_tamsu" name="med_tamsu"><label for="med_tamsu">Tamsulosina</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="med_terazo" name="med_terazo"><label for="med_terazo">Terazosina</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="med_omepra" name="med_omepra"><label for="med_omepra">Omeprazol</label></div>
                 </div>
                 <div class="other-input-group" style="margin-top: 2px;">
                    <div class="checkbox-item"><input type="checkbox" id="med_otros_check" name="med_otros_check"><label for="med_otros_check">Otros Meds:</label></div>
                    <input type="text" id="med_otros_text" name="med_otros_text">
                </div>
            </section>

            <section>
                <h2>4. Hábitos Alimentarios Detallados</h2>

                <h3>Frecuencia de consumo semanal:</h3>

                <span class="category-title">Fibra:</span>
                <div class="checkbox-group">
                    <div class="checkbox-item"><input type="checkbox" id="fibra_verduras" name="fibra_verduras"><label for="fibra_verduras">Verduras (≥5 v/s)</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="fibra_frutas" name="fibra_frutas"><label for="fibra_frutas">Frutas (≥4 v/s)</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="fibra_legumbres" name="fibra_legumbres"><label for="fibra_legumbres">Legumbres (≥2 v/s)</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="fibra_cereales" name="fibra_cereales"><label for="fibra_cereales">Cereales integr.</label></div>
                    <div class="checkbox-item" style="min-width: 100%; margin-top: 2px;"><input type="checkbox" id="fibra_baja" name="fibra_baja"><label for="fibra_baja"><b>Bajo consumo de fibra</b> (marca si pocos)</label></div>
                </div>

                <span class="category-title">Ultraprocesados:</span>
                <div class="checkbox-group">
                    <div class="checkbox-item"><input type="checkbox" id="ultra_snacks" name="ultra_snacks"><label for="ultra_snacks">Snacks (papas, galletas)</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="ultra_embutidos" name="ultra_embutidos"><label for="ultra_embutidos">Embutidos</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="ultra_bebidas" name="ultra_bebidas"><label for="ultra_bebidas">Bebidas azucaradas</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="ultra_rapidas" name="ultra_rapidas"><label for="ultra_rapidas">Comidas rápidas</label></div>
                     <div class="checkbox-item" style="min-width: 100%; margin-top: 2px;"><input type="checkbox" id="ultra_diario" name="ultra_diario"><label for="ultra_diario"><b>Consumo diario</b> de alguno</label></div>
                </div>

                <h3>Agua:</h3>
                <div class="checkbox-group inline-group">
                    <div class="checkbox-item"><input type="radio" id="agua_menos1" name="agua_consumo" value="<1L"><label for="agua_menos1"><1L/día</label></div>
                    <div class="checkbox-item"><input type="radio" id="agua_1a2" name="agua_consumo" value="1-2L"><label for="agua_1a2">1-2L</label></div>
                    <div class="checkbox-item"><input type="radio" id="agua_mas2" name="agua_consumo" value=">2L"><label for="agua_mas2">>2L</label></div>
                </div>
            </section>

            <section>
                <h2>6. Observaciones</h2>
                <textarea id="observaciones" name="observaciones" rows="3"></textarea>
            </section>

        </div> <!-- /column-right -->
    </div> <!-- /form-container -->

</body>
</html>